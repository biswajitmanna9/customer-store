<ScrollView row="0">
    <StackLayout padding="10" *ngIf="accordian_view_key">
        <StackLayout *ngFor="let category of category_list">
            <GridLayout columns="*" rows="*,*" *ngIf="category.items.length > 0">
                <Label [text]="category.category_name" textWrap="true" row="0" col="0" class="category_heading"></Label>
                <StackLayout row="1" col="0">
                    <StackLayout *ngFor="let item of category.items" padding="10" backgroundColor="#fff">
                        <CardView class="whiteCard">
                            <GridLayout rows="*" columns="*,*" padding="10" verticalAlignment="center">
                                <StackLayout row="0" col="0" verticalAlignment="center" orientation="vertical" horizontalAlignment="left">
                                    <Label [text]="item.product_name" textWrap="true" verticalAlignment="center" class="product_name"></Label>
                                    <StackLayout orientation="horizontal">
                                        <Label [text]="item.discounted_price" class="discounted_price" textWrap="true" *ngIf="item.discounted_price > 0"></Label>
                                        <Label [text]="item.price" class="original_price" textWrap="true" [ngClass]="[item.discounted_price > 0 ? 'isDiscount' : '']"></Label>
                                        <Label [text]="getDiscount(item.price,item.discounted_price)" class="discount" textWrap="true" *ngIf="item.discounted_price > 0"></Label>
                                    </StackLayout>
                                </StackLayout>
                                <StackLayout horizontalAlignment="right" verticalAlignment="center" (tap)="addToCart(item)" *ngIf="!item.isCart" col="1" row="0" backgroundColor="#fff" borderColor="#00a008" borderWidth="1" borderRadius="3">
                                    <GridLayout rows="*" columns="80,40" verticalAlignment="center">
                                        <Label text="Add" row="0" col="0" verticalAlignment="center" textAlignment="center" width="80" height="40" paddingTop="10" color="#00a008" borderRightColor="#00a008" borderRightWidth="1"></Label>
                                        <Label class="fa" [text]="'fa-plus' | fonticon" row="0" col="1" verticalAlignment="center" textAlignment="center" width="40" height="40" backgroundColor="#d5edd5" paddingTop="15" color="#00a008"></Label>
                                    </GridLayout>
                                </StackLayout>
                                <StackLayout row="0" col="1" verticalAlignment="center" orientation="vertical" *ngIf="item.isCart" horizontalAlignment="right" backgroundColor="#fff" borderColor="#00a008" borderWidth="1" borderRadius="3">
                                    <GridLayout rows="*" columns="40,40,40" verticalAlignment="center">
                                        <Label class="fa" [text]="'fa-minus' | fonticon" paddingTop="15" color="#00a008" borderRightColor="#00a008" borderRightWidth="1" row="0" col="0" (tap)="decrement(item)" textAlignment="center" width="40" height="40"></Label>
                                        <Label [text]="item.quantity" paddingTop="10" color="#00a008" borderRightColor="#00a008" borderRightWidth="1" row="0" col="1" textAlignment="center" width="40" height="40"></Label>
                                        <Label class="fa" [text]="'fa-plus' | fonticon" paddingTop="15" color="#00a008" row="0" col="2" (tap)="increment(item)" textAlignment="center" width="40" height="40"></Label>
                                    </GridLayout>
                                </StackLayout>
                            </GridLayout>
                        </CardView>
                    </StackLayout>
                </StackLayout>
            </GridLayout>
        </StackLayout>
    </StackLayout>
    <StackLayout padding="10" *ngIf="list_view_key">
        <StackLayout padding="10" backgroundColor="#fff" *ngFor="let item of category_list[0].items">
            <CardView class="whiteCard">
                <GridLayout rows="*" columns="*,*" padding="10" verticalAlignment="center">
                    <StackLayout row="0" col="0" verticalAlignment="center" orientation="vertical" horizontalAlignment="left">
                        <Label [text]="item.product_name" textWrap="true" verticalAlignment="center" class="product_name"></Label>
                        <StackLayout orientation="horizontal">
                            <Label [text]="item.discounted_price" class="discounted_price" textWrap="true" *ngIf="item.discounted_price > 0"></Label>
                            <Label [text]="item.price" class="original_price" textWrap="true" [ngClass]="[item.discounted_price > 0 ? 'isDiscount' : '']"></Label>
                            <Label [text]="getDiscount(item.price,item.discounted_price)" class="discount" textWrap="true" *ngIf="item.discounted_price > 0"></Label>
                        </StackLayout>
                    </StackLayout>
                    <StackLayout horizontalAlignment="right" verticalAlignment="center" (tap)="addToCart(item)" *ngIf="!item.isCart" col="1" row="0" backgroundColor="#fff" borderColor="#00a008" borderWidth="1" borderRadius="3">
                        <GridLayout rows="*" columns="80,40" verticalAlignment="center">
                            <Label text="Add" row="0" col="0" verticalAlignment="center" textAlignment="center" width="80" height="40" paddingTop="10" color="#00a008" borderRightColor="#00a008" borderRightWidth="1"></Label>
                            <Label class="fa" [text]="'fa-plus' | fonticon" row="0" col="1" verticalAlignment="center" textAlignment="center" width="40" height="40" backgroundColor="#d5edd5" paddingTop="15" color="#00a008"></Label>
                        </GridLayout>
                    </StackLayout>
                    <StackLayout row="0" col="1" verticalAlignment="center" orientation="vertical" *ngIf="item.isCart" horizontalAlignment="right" backgroundColor="#fff" borderColor="#00a008" borderWidth="1" borderRadius="3">
                        <GridLayout rows="*" columns="40,40,40" verticalAlignment="center">
                            <Label class="fa" [text]="'fa-minus' | fonticon" paddingTop="15" color="#00a008" borderRightColor="#00a008" borderRightWidth="1" row="0" col="0" (tap)="decrement(item)" textAlignment="center" width="40" height="40"></Label>
                            <Label [text]="item.quantity" paddingTop="10" color="#00a008" borderRightColor="#00a008" borderRightWidth="1" row="0" col="1" textAlignment="center" width="40" height="40"></Label>
                            <Label class="fa" [text]="'fa-plus' | fonticon" paddingTop="15" color="#00a008" row="0" col="2" (tap)="increment(item)" textAlignment="center" width="40" height="40"></Label>
                        </GridLayout>
                    </StackLayout>


                </GridLayout>



            </CardView>

        </StackLayout>


        <Button class="btn btn-primary" backgroundColor="#6c6969" color="#fff" width="50%" text="View Cart" [nsRouterLink]="['/store-app/', app_id , 'cart']"></Button>

    </StackLayout>
</ScrollView>